(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"container",function(){return C}),n.d(r,"row",function(){return L}),n.d(r,"column",function(){return R});var a={};n.r(a),n.d(a,"align",function(){return I});var i=n(0),o=n.n(i),c=n(54),l=n.n(c),u=n(25),s=n(61),d=new u.a({uri:"https://pokeql.com/v1"});function m(e){return i.createElement(s.a,{client:d},e.children)}var f=n(51),b=n(52),g=n(50),h=n(11),v=n(49),p=n(27),j=n(33),E=n(32),O=n(105);function k(e){function t(t){return O.a(e,t)}return t.query=e,t}var w=n(28);function x(){var e=Object(w.a)(["\n    query Preview($first: Int, $after: String) {\n      Pokemon(first: $first, after: $after) {\n        totalCount\n        pageInfo {\n          hasPreviousPage\n          hasNextPage\n          startCursor\n          endCursor\n        }\n        edges {\n          cursor\n          node {\n            id\n            identifier\n            sprites {\n              normal {\n                male {\n                  front\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  "]);return x=function(){return e},e}var y=k(Object(u.b)(x())),P=n(4);Object(P.a)("*",{boxSizing:"border-box"}),Object(P.a)("html, body",{margin:0,padding:0}),Object(P.a)("figure",{margin:0}),Object(P.a)("img",{objectFit:"contain"});var N=n(64),S=n(12),W=8;function C(){return Object(P.b)({maxWidth:1152,marginLeft:"auto",marginRight:"auto",paddingLeft:2*W,paddingRight:2*W})}function L(){return Object(P.b)({marginLeft:-W,marginRight:-W,display:"flex"})}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dynamic";return"dynamic"===e?Object(P.b)({paddingLeft:W,paddingRight:W,flexGrow:1,flexShrink:1,flexBasis:0}):Object(P.b)({paddingLeft:W,paddingRight:W,flexGrow:0,flexShrink:0,flexBasis:"string"===typeof e?e:Object(N.a)(Object(S.round)(100*e/12,4))})}function I(e){return Object(P.b)({textAlign:e})}var $=n(65);function z(e){var t=e.getBoundingClientRect();return t.left<window.innerWidth&&t.right>0&&t.top<window.innerHeight&&t.bottom>0}var B=new Map,q=Object(S.throttle)(function(){var e=!0,t=!1,n=void 0;try{for(var r,a=B.entries()[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var i=r.value,o=Object(h.a)(i,2),c=o[0],l=o[1];z(c)&&(l(!0),B.delete(c))}}catch(u){t=!0,n=u}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}},200);function M(e){var t=e.src,n=Object($.a)(e,["src"]),r=i.useState(!1),a=Object(h.a)(r,2),o=a[0],c=a[1],l=i.useRef(null);return i.useEffect(function(){if(!o&&null!=l.current)return B.set(l.current,c),q(),function(){B.delete(l.current)}},[l.current]),i.createElement("img",Object.assign({ref:l},n,{src:o?t:void 0}))}window.addEventListener("mousewheel",q),window.addEventListener("keyup",q);var H={root:Object(P.b)({position:"relative",background:"white"}),image:Object(P.b)({display:"block",transition:"0.2s ease all",width:"96px",height:"96px",border:"1px solid black",filter:"brightness(0.8) grayscale(1)",$nest:{"&:hover, &.active":{filter:"none"}}}),number:Object(P.b)({position:"absolute",top:"0",right:"0",padding:"4px 6px",background:"rgba(255, 255, 255, 0.5)",boxShadow:"0 0 0 1px rgba(0, 0, 0, 0.5)"})};function A(e){return i.createElement("figure",{className:H.root},i.createElement(M,{className:"".concat(H.image," ").concat(e.active&&"active"),src:e.imgUrl}),i.createElement("figcaption",{className:H.number},e.num))}A.Placeholder=function(){return i.createElement("figure",{className:"".concat(H.root," ").concat(Object(P.b)({visibility:"hidden"}))})};var G=A;function J(e,t,n,r){i.useEffect(function(){if(e&&n)return e.addEventListener(t,n),function(){return e.removeEventListener(t,n)}},r)}var U={root:Object(P.b)({maxWidth:"100%",overflowX:"auto"}),scroller:Object(P.b)({position:"relative"}),childWrapper:Object(P.b)({position:"absolute",top:"0",bottom:"0"})},D=function(e){var t=i.useState(),n=Object(h.a)(t,2),r=n[0],a=n[1],o=i.useState(),c=Object(h.a)(o,2),l=c[0],u=c[1],s=i.useRef(null);function d(){s.current&&(a(s.current.clientWidth),u(s.current.scrollLeft))}i.useEffect(d,[s.current]),J(s.current,"scroll",d);var m={width:e.childWidth*e.children.length,height:e.childHeight};var f=e.children.map(function(t,n){return function(t){if(null==r||null==l)return!1;var n=r/4,a=e.childWidth*t,i=a+e.childWidth;return a<l+r+n&&i>l-n}(n)?i.createElement("div",{key:t.key||n,className:U.childWrapper,style:{width:e.childWidth,left:e.childWidth*n}},t):null});return i.createElement("div",{ref:s,className:"".concat(U.root," ").concat(e.className),style:e.style},i.createElement("div",{className:U.scroller,style:m},f))},F={root:Object(P.b)({position:"relative"}),text:Object(P.b)({display:"inline-block",width:"40px",textAlign:"right",textShadow:"0 0 2px white",fontWeight:600}),bar:Object(P.b)({position:"absolute",left:0,top:0,bottom:0,backgroundColor:"lightgray",zIndex:-1})};function Q(e){var t=100*Math.min(e.size/e.max,1);return i.createElement("div",{className:F.root},i.createElement("span",{className:F.text},e.size),i.createElement("div",{className:F.bar,style:{width:"".concat(t,"%"),backgroundColor:e.barColor}}))}function X(){var e=Object(w.a)(["\n  query PokemonStats($identifier: String) {\n    Pokemon(filter: { identifier: $identifier }) {\n      edges {\n        node {\n          id\n          identifier\n          pokemonStats {\n            id\n            baseStat\n            stat {\n              id\n              identifier\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return X=function(){return e},e}var K=k(Object(u.b)(X()));function T(e){var t=K({variables:{identifier:e.identifier}}),n=t.data;t.error,t.loading;if(!n||!n.Pokemon||!n.Pokemon.edges||!n.Pokemon.edges[0]||!n.Pokemon.edges[0].node)return null;var o=Object(S.compact)(n.Pokemon.edges[0].node.pokemonStats);return o.length?i.createElement("div",null,o.map(function(e,t){return i.createElement("div",{className:r.row(),key:e.id||t},i.createElement("div",{className:"".concat(r.column("140px")," ").concat(a.align("right"))},Object(S.startCase)(e.stat.identifier)),i.createElement("div",{className:r.column()},i.createElement(Q,{max:150,size:e.baseStat||0,barColor:(n=e.baseStat||0,n>=150?"blue":n>=100?"green":n>=75?"yellow":n>=50?"orange":"red")})));var n})):null}var V=n(63);function Y(e){var t=function(e){var t=i.useState(e),n=Object(h.a)(t,2),r=n[0],a=n[1];return i.useEffect(function(){return a(e)},[e]),[r,a]}(+e.match.params.number),n=Object(h.a)(t,2),a=n[0],c=(n[1],Object(V.useDebouncedCallback)(function(t){return e.history.replace("/pokemon/".concat(t))},500,[])),l=Object(h.a)(c,2);l[0],l[1];var u,s=y({variables:{first:50}}),d=s.data,m=(s.error,s.loading),f=s.fetchMore;if(!d||!d.Pokemon)return null;!m&&d.Pokemon.pageInfo.hasNextPage&&f({variables:{first:50,after:d.Pokemon.pageInfo.endCursor},updateQuery:(u="Pokemon",function(e,t){var n=t.fetchMoreResult;return null==n||null==n[u]||null==n[u].edges?e:Object(E.a)({},e,Object(p.a)({},u,Object(E.a)({},e[u],{pageInfo:n[u].pageInfo,edges:[].concat(Object(j.a)(e[u].edges),Object(j.a)(n[u].edges))})))})});var b=Object(S.compact)(d.Pokemon.edges);if(null==b)return null;var g=a-1,O=b[g].node;return o.a.createElement("div",null,o.a.createElement(D,{childWidth:96,childHeight:96},b.map(function(e,t){return e&&e.node?o.a.createElement(v.a,{key:e.cursor,to:"/pokemon/".concat(e.node.id)},o.a.createElement(G,{num:e.node.id,active:t==g,imgUrl:e.node.sprites.normal.male.front})):o.a.createElement(G.Placeholder,{key:t})})),o.a.createElement("div",{className:r.container()},o.a.createElement("h2",null,Object(S.startCase)(O.identifier)),o.a.createElement(T,{identifier:O.identifier})))}var Z=n(20);function _(){return i.createElement(f.a,null,i.createElement(b.a,{path:"/pokemon/:number",component:Y}),i.createElement(g.a,{exact:!0,from:"/",to:"/pokemon/1"}))}function ee(){return i.createElement("main",null,i.createElement("div",{className:r.container()},i.createElement("h1",null,i.createElement(Z.b,{to:"/"},"Pokemon!"))),i.createElement(_,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(function(){return i.createElement(m,null,i.createElement(Z.a,null,i.createElement(ee,null)))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},76:function(e,t,n){e.exports=n(101)}},[[76,1,2]]]);
//# sourceMappingURL=main.80009050.chunk.js.map